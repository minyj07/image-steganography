# 이미지 속에 비밀 메시지 숨기기: 스테가노그래피

이 프로젝트는 Python과 Pillow 라이브러리를 사용하여 이미지 파일에 비밀 텍스트 메시지를 숨기거나(hide) 다시 추출하는(extract) 스테가노그래피(Steganography) 도구입니다. 데이터 은닉 기술의 기본 원리를 명확히 보여주는 것을 목표로 하며, GitHub 포트폴리오용으로 제작되었습니다.

## 핵심 원리 설명

### 스테가노그래피(Steganography)란?

스테가노그래피는 데이터를 다른 데이터 안에 숨겨, 그 존재 자체를 감추는 기술입니다. 이는 단순히 내용을 알아볼 수 없게 만드는 **암호화(Cryptography)**와는 다른 접근 방식입니다.

- **암호화**: 메시지를 암호문으로 바꾸어, 키가 없으면 내용을 해독할 수 없게 합니다. 암호화된 데이터는 존재 자체가 드러나지만, 그 의미를 알 수 없습니다.
- **스테가노그래피**: 메시지를 이미지, 오디오, 비디오 등 다른 미디어 파일 안에 숨겨, 비밀 메시지가 존재한다는 사실 자체를 눈치채지 못하게 합니다.

이 프로젝트는 스테가노그래피의 대표적인 기법 중 하나인 **LSB(최하위 비트) 기법**을 사용합니다.

### LSB(Least Significant Bit) 기법이란?

디지털 이미지는 수많은 **픽셀(Pixel)**로 구성되며, 각 픽셀은 보통 빛의 삼원색인 빨강(Red), 초록(Green), 파랑(Blue)의 조합으로 색상을 표현합니다. 각 색상 값은 0부터 255까지의 숫자로 나타낼 수 있으며, 이는 8자리의 2진수(8비트)로 표현됩니다.

**LSB(최하위 비트)**는 이 8자리 2진수에서 가장 오른쪽에 있는 비트를 의미합니다.

- **예시**: 숫자 215는 2진수로 `11010111`입니다.

LSB 기법의 핵심 원리는 **"이 최하위 비트 하나를 바꾸더라도, 사람이 그 색상 변화를 거의 인지할 수 없다"**는 것입니다.

- `11010111` (215) → LSB를 0으로 변경 → `11010110` (214)

*<p align="center">숫자 215와 214는 1차이밖에 나지 않아, 실제 색상에서도 거의 구별이 불가능합니다.</p>*

이처럼 미세한 변화를 이용해, 이미지의 각 픽셀의 R, G, B 값에 숨기고자 하는 메시지의 비트(0 또는 1)를 하나씩 차례대로 기록하는 것이 LSB 스테가노그래피입니다.

## 프로젝트 구조

- **`app.py`**: Flask 웹 애플리케이션의 핵심 로직을 담고 있습니다. 파일 업로드, 스테가노그래피 처리, 결과 반환을 담당합니다.
- **`steganographer.py`**: 메시지를 숨기고 추출하는 핵심 스테가노그래피 함수가 구현된 모듈입니다.
- **`templates/index.html`**: 사용자가 상호작용하는 메인 웹 페이지의 HTML 구조입니다.
- **`static/style.css`**: 웹 페이지의 디자인을 위한 CSS 스타일시트입니다.
- **`Dockerfile`**: 웹 애플리케이션을 Docker 컨테이너로 빌드하기 위한 설정 파일입니다.
- **`requirements.txt`**: 프로젝트 실행에 필요한 Python 라이브러리 목록입니다.
- **`.gitignore`**: Git 버전 관리에서 제외할 파일 및 폴더를 지정합니다.

## 설치 및 실행 방법 (Docker 사용)

이 애플리케이션은 Docker를 통해 가장 쉽게 실행할 수 있습니다. 로컬 컴퓨터에 [Docker Desktop](https://www.docker.com/products/docker-desktop/)이 설치되어 있어야 합니다.

1.  **GitHub 저장소 복제(Clone)**

    ```bash
    git clone https://github.com/<Your-Username>/image-steganography.git
    cd image-steganography
    ```

2.  **Docker 이미지 빌드**

    프로젝트 루트 디렉토리에서 다음 명령어를 실행하여 Docker 이미지를 빌드합니다.

    ```bash
    docker build -t steganography-app .
    ```

3.  **Docker 컨테이너 실행**

    이미지 빌드가 완료되면, 다음 명령어를 사용하여 컨테이너를 실행합니다. `-p 5000:5000` 옵션은 로컬 컴퓨터의 5000번 포트와 컨테이너의 5000번 포트를 연결합니다.

    ```bash
    docker run -p 5000:5000 steganography-app
    ```

4.  **웹 애플리케이션 접속**

    웹 브라우저를 열고 주소창에 `http://localhost:5000` 을 입력하면 애플리케이션에 접속할 수 있습니다.

## 사용 방법

웹 페이지의 안내에 따라 파일을 업로드하고 메시지를 입력하여 스테가노그래피 기능을 사용할 수 있습니다.

-   **메시지 숨기기**: 원본 PNG 이미지를 업로드하고, 숨길 메시지를 입력한 후 '숨기기 및 다운로드' 버튼을 클릭합니다.
-   **메시지 추출하기**: 메시지가 숨겨진 PNG 이미지를 업로드한 후 '메시지 추출하기' 버튼을 클릭하면 숨겨진 메시지가 화면에 표시됩니다.

## 기술적 세부사항

### 메시지 끝을 알리는 '구분자(Delimiter)'

이미지에서 숨겨진 데이터를 추출할 때, 어디까지가 실제 메시지이고 어디부터가 의미 없는 데이터인지 구별할 방법이 필요합니다. 만약 메시지 추출을 멈추는 지점을 정해두지 않으면, 이미지 전체의 LSB를 끝까지 읽게 되어 원래 메시지 뒤에 의미 없는 쓰레기 데이터가 붙게 됩니다.

이 문제를 해결하기 위해, 이 프로그램에서는 실제 메시지 데이터의 끝에 **고유한 비트 패턴(구분자)**을 추가합니다.

-   **사용한 구분자**: `11111111111111110000000000000000` (32비트)

메시지를 숨길 때는 `(메시지 비트) + (구분자 비트)` 순서로 이미지에 기록하고, 추출할 때는 LSB를 하나씩 읽다가 이 구분자 패턴이 나타나면 읽기를 중단합니다. 이렇게 함으로써 정확한 원본 메시지만을 깔끔하게 복원할 수 있습니다.
